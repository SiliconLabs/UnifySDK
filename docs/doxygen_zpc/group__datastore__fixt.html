<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Z-Wave Protocol Controller Refrence: Unify Datastore Fixture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Z-Wave Protocol Controller Refrence<span id="projectnumber">&#160;1.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__datastore__fixt.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Unify Datastore Fixture<div class="ingroups"><a class="el" href="group__unify__components.html">Unify Components</a> &raquo; <a class="el" href="group__unify__datastore.html">Unify Datastore</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Persistent Datastore fixture.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf8f53f9a972f142a44775daa78d8d95f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__fixt.html#gaf8f53f9a972f142a44775daa78d8d95f">UIC_VERSION_MAX_LEN</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:gaf8f53f9a972f142a44775daa78d8d95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">: MAX Length of typical version string: for e.g. ver_0.0.6_RC1-269-gb5a9d4be  <a href="group__datastore__fixt.html#gaf8f53f9a972f142a44775daa78d8d95f">More...</a><br /></td></tr>
<tr class="separator:gaf8f53f9a972f142a44775daa78d8d95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga60e9c8dbdf53cd0fbc17cdf508a8db78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__fixt.html#ga60e9c8dbdf53cd0fbc17cdf508a8db78">datastore_fixt_setup</a> (const char *datastore_file)</td></tr>
<tr class="memdesc:ga60e9c8dbdf53cd0fbc17cdf508a8db78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixture for setting up the datastore component.  <a href="group__datastore__fixt.html#ga60e9c8dbdf53cd0fbc17cdf508a8db78">More...</a><br /></td></tr>
<tr class="separator:ga60e9c8dbdf53cd0fbc17cdf508a8db78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga373160cc3a345e23f2adef4dbc0654bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__fixt.html#ga373160cc3a345e23f2adef4dbc0654bf">datastore_fixt_teardown</a> ()</td></tr>
<tr class="memdesc:ga373160cc3a345e23f2adef4dbc0654bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixture to tear down the datastore.  <a href="group__datastore__fixt.html#ga373160cc3a345e23f2adef4dbc0654bf">More...</a><br /></td></tr>
<tr class="separator:ga373160cc3a345e23f2adef4dbc0654bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42e7a84b800830ebedc35da6ba84e6a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__fixt.html#ga42e7a84b800830ebedc35da6ba84e6a7">datastore_fixt_setup_and_handle_version</a> (const char *datastore_file, int64_t db_version)</td></tr>
<tr class="memdesc:ga42e7a84b800830ebedc35da6ba84e6a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for setting up the datastore component handling the datastore version.  <a href="group__datastore__fixt.html#ga42e7a84b800830ebedc35da6ba84e6a7">More...</a><br /></td></tr>
<tr class="separator:ga42e7a84b800830ebedc35da6ba84e6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Persistent Datastore fixture. </p>
<p >Fixture to initialize the datastore from uic_main, in order to enable the Datastore in a Unify application, add <a class="el" href="group__datastore__fixt.html#ga60e9c8dbdf53cd0fbc17cdf508a8db78">datastore_fixt_setup</a> to the fixt_setup array, when calling <a class="el" href="group__uic__main.html">Main Function for Contiki</a> </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaf8f53f9a972f142a44775daa78d8d95f" name="gaf8f53f9a972f142a44775daa78d8d95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8f53f9a972f142a44775daa78d8d95f">&#9670;&nbsp;</a></span>UIC_VERSION_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UIC_VERSION_MAX_LEN&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: MAX Length of typical version string: for e.g. ver_0.0.6_RC1-269-gb5a9d4be </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga60e9c8dbdf53cd0fbc17cdf508a8db78" name="ga60e9c8dbdf53cd0fbc17cdf508a8db78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60e9c8dbdf53cd0fbc17cdf508a8db78">&#9670;&nbsp;</a></span>datastore_fixt_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fixt_setup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>datastore_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixture for setting up the datastore component. </p>
<p >This function gets the config string for datastore file and opens the datastore (Sqlite database) then calls <a class="el" href="datastore__internals_8h.html#a9eee763b79c70bb2569253475733266e">datastore_table_init</a> And calls datastore_attribure_init</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datastore_file</td><td>path for the datastore file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK for success, SL_STATUS_FAIL if an error occurred </dd></dl>

</div>
</div>
<a id="ga42e7a84b800830ebedc35da6ba84e6a7" name="ga42e7a84b800830ebedc35da6ba84e6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42e7a84b800830ebedc35da6ba84e6a7">&#9670;&nbsp;</a></span>datastore_fixt_setup_and_handle_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fixt_setup_and_handle_version </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>datastore_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>db_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for setting up the datastore component handling the datastore version. </p>
<p >This function calls reads the datastore config option and calls <a class="el" href="datastore__fixt_8c.html#a327c100119c0e0834cb35a023e804d58">datastore_open</a> which opens the database and calls <a class="el" href="datastore__internals_8h.html#a9eee763b79c70bb2569253475733266e">datastore_table_init</a> initializes generic tables and then this function checks if the database version is same as current version. (Generic tables have the database version stored)</p>
<p >If the versioning is good then writes the current Unify version in generic table and calls datastore_attribure_init to initialize attribute store table If there is no database version found, it writes the current database version and writes the current Unify version in generic table and calls datastore_attribure_init to initialize attribute store</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datastore_file</td><td>path for the datastore file. </td></tr>
    <tr><td class="paramname">db_version</td><td>Expected version number for the database file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK for success, SL_STATUS_FAIL if an error occurred </dd></dl>

</div>
</div>
<a id="ga373160cc3a345e23f2adef4dbc0654bf" name="ga373160cc3a345e23f2adef4dbc0654bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga373160cc3a345e23f2adef4dbc0654bf">&#9670;&nbsp;</a></span>datastore_fixt_teardown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int datastore_fixt_teardown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixture to tear down the datastore. </p>
<p >This is basically a wrapper that calls <a class="el" href="group__unify__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown</a>, see <a class="el" href="group__unify__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown</a> for more details</p>
<dl class="section return"><dt>Returns</dt><dd>int 0 for success, -1 for failure </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 13 2025 07:20:10 for Z-Wave Protocol Controller Refrence by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
