<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portable environment &mdash; Unify Host SDK</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom_styles.css" type="text/css" />
    <link rel="canonical" href="https://siliconlabs.github.io/UnifySDK/portable_runtime/readme_developer.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/charenc.js"></script>
        <script src="../_static/js/crypt.js"></script>
        <script src="../_static/js/sha1.js"></script>
        <script src="../_static/js/html5-qrcode.min.js"></script>
        <script src="../_static/js/qr_code_scanner.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../doc/introduction.html" class="icon icon-home"> Unify
            <img src="../_static/silicon-labs-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                ver_1.5.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/introduction.html">Unify Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/running_unify.html">Running Unify on Raspberry Pi</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/UnifySDK.html">Unify Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/unify_framework_services.html">Framework Services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/protocol_controllers.html">Protocol Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/unify_iot_services.html">IoT Services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/getting_started_as_developer.html">Getting Started as a Developer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/unify_specifications/index.html">Unify Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/system_requirements.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/standards/known-abbreviations.html">Known Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../doc/introduction.html">Unify</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <script>
    $(".wy-side-scroll").append("<div class='github-button'><iframe src='https://ghbtns.com/github-btn.html?user=SiliconLabs&repo=UnifySDK&type=watch&count=true&size=large&v=2' allowtransparency='true' frameborder='0' scrolling='0' width='170' height='30'></iframe></div>");
</script>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="portable-environment">
<h1>Portable environment<a class="headerlink" href="#portable-environment" title="Permalink to this heading"></a></h1>
<p>At the moment the Portable Runtime is comprised of a command line application (CLI), <em><code class="docutils literal notranslate"><span class="pre">unify_portable_cli</span></code></em>, with support for Linux, MacOS and Windows on the x86_64 architecture.
There is also a GUI, <em>unify_portable_gui</em>, that for the time being, has only been tested on Windows and Linux. Refer <a class="reference internal" href="readme_developer_gui.html"><span class="doc std std-doc">Portable Environment GUI Developer Guide</span></a> for more details.</p>
<p>The applications are written in Rust and rely on some platform specific tools, that are to be packaged and placed relative to the executable in a subfolder called <em><code class="docutils literal notranslate"><span class="pre">./resources</span></code></em>.</p>
<section id="prepare-runtime-dependencies">
<h2>Prepare runtime dependencies<a class="headerlink" href="#prepare-runtime-dependencies" title="Permalink to this heading"></a></h2>
<p>The runtime dependencies for the applications, can be downloaded by running the Python script located in <em><code class="docutils literal notranslate"><span class="pre">./scripts/prepare-resources.py</span></code></em>.
This script contains links for the various dependencies and as such downloads and extracts them to the correct location in the local filesystem.
This script also allows picking up the runtime dependencies for the applications from local filesystem using <code class="docutils literal notranslate"><span class="pre">--resource_path</span></code> option.</p>
<p>It makes sense to run this before starting to compile the application, as one can then just run <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span> <span class="pre">--target</span> <span class="pre">x86_64-unknown-linux-gnu</span> <span class="pre">--release</span> <span class="pre">--package</span> <span class="pre">unify_portable_cli</span></code> from the top level <code class="docutils literal notranslate"><span class="pre">portable_runtime</span></code> folder.</p>
<p>The script has some arguments that needs to be specified so it knows where to place the dependencies in the filesystem.
You should specify which target OS you are building for with the <code class="docutils literal notranslate"><span class="pre">--target</span></code> argument.
With the <code class="docutils literal notranslate"><span class="pre">--build_type</span></code> argument you specify whether it is a <code class="docutils literal notranslate"><span class="pre">debug</span></code> or a <code class="docutils literal notranslate"><span class="pre">release</span></code> build.
The last argument is for the case where you decice to build the Rust project in a different build folder.
For this case, you can specify the location of the top level build folder, usually named <code class="docutils literal notranslate"><span class="pre">target</span></code>in Rust, with the argument <code class="docutils literal notranslate"><span class="pre">--build_folder</span></code>.</p>
</section>
<section id="package-the-portable-runtime">
<h2>Package the Portable Runtime<a class="headerlink" href="#package-the-portable-runtime" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">scripts</span></code> folder contains a simple packaging script for generating a deployment package for the Portable Runtime.
The script should be executed within ´uic/portable_runtime´ like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>portable_runtime$<span class="w"> </span>python3<span class="w"> </span>./scripts/package_portable_environments.py<span class="w"> </span>--target<span class="w"> </span>windows<span class="w"> </span>--build_type<span class="w"> </span>release
</pre></div>
</div>
<p>This will produce a compressed archive, a *.zip file for Windows and *.tar.bz2 file for Linux &amp; MacOS, of the CLI tool and the related runtime dependencies.</p>
</section>
</section>


           </div>
          </div>
          <footer>
    <hr/>
    <p>Copyright © 2023 Silicon Laboratories. All rights reserved.</p>
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>