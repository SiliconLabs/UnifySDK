<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unify Developer Guide &mdash; Unify Host SDK</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom_styles.css" type="text/css" />
    <link rel="canonical" href="https://siliconlabs.github.io/UnifySDK/doc/readme_developer.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/charenc.js"></script>
        <script src="../_static/js/crypt.js"></script>
        <script src="../_static/js/sha1.js"></script>
        <script src="../_static/js/html5-qrcode.min.js"></script>
        <script src="../_static/js/qr_code_scanner.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unify Build Guide" href="readme_building.html" />
    <link rel="prev" title="Getting Started as a Developer" href="getting_started_as_developer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="introduction.html" class="icon icon-home"> Unify
            <img src="../_static/silicon-labs-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                ver_1.7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Unify Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_unify.html">Getting Started with Unify</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="UnifySDK.html">Unify Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="unify_framework_services.html">Framework Services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="protocol_controllers.html">Protocol Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="unify_iot_services.html">IoT Services</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="getting_started_as_developer.html">Getting Started as a Developer</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Unify Developer Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="readme_building.html">Unify Build Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme_cmake.html">CMake Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme_rust.html">Unify Rust Development</a></li>
<li class="toctree-l3"><a class="reference internal" href="unify_library_overview.html">Unify Library Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="standards/coding-standard.html">Unify Coding Standard</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html">API documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directory-structure-and-file-naming-conventions">Directory Structure and File Naming Conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rules">Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#structure-of-components-best-practice">Structure of Components (Best Practice)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#structure">Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#clang-format-autoformat-code">Clang-Format (autoformat code)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-on-mac">Install on Mac</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-on-ubuntu">Install on Ubuntu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visual-studio-code">Visual Studio Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line">Command Line</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pre-commit-hooks">Pre-commit Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-new-application">Creating a New Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unify-framework-library-unify-main-and-ipc">Unify Framework Library (Unify Main) and IPC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_as_developer.html#development-platform-recommendations">Development Platform Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_as_developer.html#developing-iot-services">Developing IoT Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_as_developer.html#developing-eed">Developing EED</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_as_developer.html#developing-protocol-controllers">Developing protocol controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started_as_developer.html#extend-ucl-clusters-to-non-zigbee-controllers">Extend UCL clusters to non-zigbee controllers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="unify_specifications/index.html">Unify Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="standards/known-abbreviations.html">Known Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="introduction.html">Unify</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <script>
    $(".wy-side-scroll").append("<div class='github-button'><iframe src='https://ghbtns.com/github-btn.html?user=SiliconLabs&repo=UnifySDK&type=watch&count=true&size=large&v=2' allowtransparency='true' frameborder='0' scrolling='0' width='170' height='30'></iframe></div>");
</script>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="unify-developer-guide">
<h1>Unify Developer Guide<a class="headerlink" href="#unify-developer-guide" title="Permalink to this heading"></a></h1>
<p>This is a guide for developers who wish to get started on adding or modifying the
Unify SDK source code.</p>
<p>Other Guides related to development are</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme_building.html">Unify Build Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme_cmake.html">CMake Integration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="standards/cmake-standard.html">CMake coding standard</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readme_rust.html">Unify Rust Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="unify_library_overview.html">Unify Library Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="standards/coding-standard.html">Unify Coding Standard</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
</ul>
</div>
<section id="directory-structure-and-file-naming-conventions">
<h2>Directory Structure and File Naming Conventions<a class="headerlink" href="#directory-structure-and-file-naming-conventions" title="Permalink to this heading"></a></h2>
<section id="rules">
<h3>Rules<a class="headerlink" href="#rules" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>All filenames must be lower case except the following:</p>
<ul>
<li><p>CMakeLists.txt</p></li>
<li><p>Dockerfile</p></li>
<li><p>Makefile</p></li>
<li><p>Jenkinsfile</p></li>
<li><p>Files provided by external libraries</p></li>
</ul>
</li>
<li><p>Use _ for spaces in file/folder names</p></li>
</ul>
</section>
<section id="structure-of-components-best-practice">
<h3>Structure of Components (Best Practice)<a class="headerlink" href="#structure-of-components-best-practice" title="Permalink to this heading"></a></h3>
<p>This is a best practice for component folder structure.
Note that exceptions exist for this, such as Contiki and libs2.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.
|-- unify_my_sample_component/
|   |-- platform/           // Platform specific
|   |   `-- posix/          // Posix specific
|   |-- include/            // Public interface of components
|   |-- resource/           // Various resources, e.g. xml files for code generation etc.
|   |-- src/                // Source code and private header files
|   |-- test/               // Unittest for component
|   |-- tools/              // Tools e.g. for building, python scripts etc.
|   `-- CMakeLists.txt      // CMakeLists.txt for the component
</pre></div>
</div>
<ul class="simple">
<li><p>Library names and folders of Unify components are required to be prefixed with unify_,
i.e. “unify_my_sample_component”.</p></li>
</ul>
</section>
<section id="structure">
<h3>Structure<a class="headerlink" href="#structure" title="Permalink to this heading"></a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.
|-- applications/               // Unify application specific code goes here
|   |-- examples/                    // Unify Examples
|   |   |-- applications/
|   |       |--emulated_end_device/         // Emulated End Device(EED)
|   |-- gms/                    // GMS application code
|   |-- upvl/                   // UPVL application code
|   `-- ...
|-- cmake/                      // Cmake toolchains, modules and includes
|   |-- include/
|   |   `--                     // Various CMake includes e.g. compiler_options.cmake, doxygen.cmake, ...
|   |-- modules/                // CMake modules
|   |-- armhf_debian.cmake      // Toolchain files goes here in the format `&lt;arch&gt;(_&lt;dist&gt;).cmake`
|   |-- arm64_debian.cmake      // Toolchain file for AARCH64/arm64
|-- components/                 // Shared components (components shared between Unify applications)
|   |-- uic_config/             // config component
|   |   |-- platform/
|   |   |   |-- posix/          // Posix platform specific must be in platform/posix folder for all components (except external components, where this is handled differently)
|   |   |-- include/            // non platform specific public interfaces goes here
|   |   |-- src/                // non platform specific source code and private interfaces goes here
|   |   |-- test/               // Unittests for the component goes in here
|   |   `-- CMakeLists.txt
|   |-- uic_log/                // Logging framework
|   |-- uic_mqtt/               // MQTT client library
|   |-- ...
|   `-- CMakeLists.txt
|-- dist/                       // Files for the &quot;target&quot; platform goes here e.g. init scripts, config files, etc.
|   `-- CMakeLists.txt
|-- doc/                        // Documentation written in markdown format
|   `-- readme_developer.md     // This document
|-- docker/Dockerfile           // Dockerfile for compiling and cross-compiling ZPC
|-- CMakeLists.txt              // Root CMakeLists.txt
`-- Jenkinsfile                 // Jenkinsfile for CI on Jenkins
</pre></div>
</div>
</section>
</section>
<section id="clang-format-autoformat-code">
<h2>Clang-Format (autoformat code)<a class="headerlink" href="#clang-format-autoformat-code" title="Permalink to this heading"></a></h2>
<p>Clang-format is a tool that can format code according to coding style configuration.
The <code class="docutils literal notranslate"><span class="pre">.clang-format</span></code> file in this repository depends on clang-format 10.</p>
<section id="install-on-mac">
<h3>Install on Mac<a class="headerlink" href="#install-on-mac" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>llvm
ln<span class="w"> </span>-s<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>brew<span class="w"> </span>--prefix<span class="w"> </span>llvm<span class="k">)</span><span class="s2">/bin/clang-format&quot;</span><span class="w"> </span><span class="s2">&quot;/usr/local/bin/clang-format&quot;</span>
</pre></div>
</div>
</section>
<section id="install-on-ubuntu">
<h3>Install on Ubuntu<a class="headerlink" href="#install-on-ubuntu" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>-O<span class="w"> </span>-<span class="w"> </span>https://apt.llvm.org/llvm-snapshot.gpg.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>apt-key<span class="w"> </span>add<span class="w"> </span>-
sudo<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb http://apt.llvm.org/bionic/ llvm-toolchain-bionic-10 main</span>
<span class="s2">deb-src http://apt.llvm.org/bionic/ llvm-toolchain-bionic-10 main&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/etc/apt/sources.list.d/llvm.list
sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>clang-format-10
</pre></div>
</div>
</section>
<section id="visual-studio-code">
<h3>Visual Studio Code<a class="headerlink" href="#visual-studio-code" title="Permalink to this heading"></a></h3>
<p>In Visual Studio Code, you can install clang-format plugin (xaver.clang-format),
which allows you to format files with clang-format (also supports format on save).
See the plugin documentation for details.</p>
</section>
<section id="command-line">
<h3>Command Line<a class="headerlink" href="#command-line" title="Permalink to this heading"></a></h3>
<p>You can run clang-format from the command line.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>clang-format<span class="w"> </span>-i<span class="w"> </span>&lt;filename&gt;<span class="w">  </span><span class="c1"># -i causes to do in-file changes</span>
</pre></div>
</div>
</section>
</section>
<section id="pre-commit-hooks">
<h2>Pre-commit Hooks<a class="headerlink" href="#pre-commit-hooks" title="Permalink to this heading"></a></h2>
<p>The ZPC repository has a config-file for the <a class="reference external" href="http://pre-commit.org">pre-commit.org</a> git hook
system. With the pre-commit hooks, utilities such as clang-format and
cmake-format will be run for all files before committing them to the repository.</p>
<p>The pre-commit hooks must be activated locally on your machine to
work.</p>
<p>First, the pre-commit Python module has to be installed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pre-commit
</pre></div>
</div>
<p>Second, install the git hook:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pre-commit<span class="w"> </span>install
</pre></div>
</div>
<p>From now on, all new files will be formatted before they are committed.</p>
</section>
<section id="creating-a-new-application">
<h2>Creating a New Application<a class="headerlink" href="#creating-a-new-application" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Create a new folder in <code class="docutils literal notranslate"><span class="pre">applications</span></code> folder e.g., <code class="docutils literal notranslate"><span class="pre">applications/my_unify_application</span></code>.</p></li>
<li><p>Create a main function within the <code class="docutils literal notranslate"><span class="pre">applications/my_unify_application</span></code> folder.</p>
<p>The following is an example of the bare minimum main.c file to get started.
A more comprehensive demo is located in <code class="docutils literal notranslate"><span class="pre">applications/demo_uic_lib</span></code>,
where some of the shared Unify libraries are demonstrated as well, including MQTT client, logging, and the configuration system.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;uic_main.h&quot;</span>
<span class="w">    </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;process.h&quot;</span>

<span class="c1">// Demo process definition</span>
<span class="n">PROCESS</span><span class="p">(</span><span class="n">my_unify_application_process</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Unify Application Process&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Demo process implementation</span>
<span class="w">    </span><span class="n">PROCESS_THREAD</span><span class="p">(</span><span class="n">my_unify_application_process</span><span class="p">,</span><span class="w"> </span><span class="n">ev</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="n">PROCESS_BEGIN</span><span class="p">()</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">PROCESS_EVENT_INIT</span><span class="p">:</span>
<span class="w">          </span><span class="c1">// Add Init code here</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">PROCESS_EVENT_EXIT</span><span class="p">:</span>
<span class="w">          </span><span class="c1">// Add Exit code here</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="n">PROCESS_WAIT_EVENT</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">PROCESS_END</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Setup fixture, called on start-up</span>
<span class="w">    </span><span class="n">sl_status_t</span><span class="w"> </span><span class="n">my_unify_application_setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Start the demo process</span>
<span class="w">      </span><span class="n">process_start</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_unify_application_process</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">SL_STATUS_OK</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// Setup fixtures</span>
<span class="w">      </span><span class="n">uic_fixt_setup_step_t</span><span class="w"> </span><span class="n">uic_fixt_setup_steps_list</span><span class="p">[]</span>
<span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="n">my_unify_application_setup</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;My Unify Application&quot;</span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Terminator&quot;</span><span class="p">}};</span>

<span class="w">      </span><span class="c1">// Shutdown fixtures</span>
<span class="w">      </span><span class="n">uic_fixt_shutdown_step_t</span><span class="w"> </span><span class="n">uic_fixt_shutdown_steps_list</span><span class="p">[]</span>
<span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Terminator&quot;</span><span class="p">}};</span>

<span class="w">      </span><span class="c1">// Run uic_main and return result</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">uic_main</span><span class="p">(</span><span class="n">uic_fixt_setup_steps_list</span><span class="p">,</span>
<span class="w">                      </span><span class="n">uic_fixt_shutdown_steps_list</span><span class="p">,</span>
<span class="w">                      </span><span class="n">argc</span><span class="p">,</span>
<span class="w">                      </span><span class="n">argv</span><span class="p">,</span>
<span class="w">                      </span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="cm">/* My application version */</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Hook <code class="docutils literal notranslate"><span class="pre">my_unify_application</span></code> into the Build System.</p>
<p>After adding the main function to a <code class="docutils literal notranslate"><span class="pre">main.c</span></code> file under <code class="docutils literal notranslate"><span class="pre">applications/my_unify_application</span></code>, modify the cmake
configuration file to include <code class="docutils literal notranslate"><span class="pre">my_unify_application</span></code> in the build by adding <code class="docutils literal notranslate"><span class="pre">add_subdirectory(my_unify_application)</span></code> to <code class="docutils literal notranslate"><span class="pre">applications/CMakeLists.txt</span></code></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">add_executable</span><span class="p">(</span><span class="s">my_unify_application</span><span class="w"> </span><span class="s">main.c</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_unify_application</span><span class="w"> </span><span class="s">unify</span><span class="p">)</span>
<span class="c"># Include my_unify_application in binary package</span>
<span class="nb">install</span><span class="p">(</span><span class="s">TARGETS</span><span class="w"> </span><span class="s">my_unify_application</span><span class="w"> </span><span class="s">RUNTIME</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">bin</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Compile</p>
<p>Now, everything should be set up to compile my_unify_application as part of the
Unify build. To cross compile the application for Raspberry Pi, run
the following commands in the root of the source folder:</p>
<blockquote>
<div><p>NB: Prerequisite is to have the Unify docker image (see
<a class="reference internal" href="../docker/readme_developer.html"><span class="doc std std-doc">Docker</span></a>)</p>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w">  </span>-v<span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:<span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span><span class="w"> </span>-w<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span><span class="w"> </span>uic_arm64
mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-GNinja<span class="w"> </span>-DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>../cmake/arm64_debian.cmake<span class="w"> </span>..
ninja
ninja<span class="w"> </span>deb
</pre></div>
</div>
</li>
</ol>
</section>
<section id="unify-framework-library-unify-main-and-ipc">
<h2>Unify Framework Library (Unify Main) and IPC<a class="headerlink" href="#unify-framework-library-unify-main-and-ipc" title="Permalink to this heading"></a></h2>
<p>The Unify Framework library is implemented as an event-driven system.
It runs in a single thread and uses the proto-threads from the Contiki OS as an event queue system.
The event system is centered around a single select call, which monitors all external file descriptors and is responsible for triggering a timer, which is implemented in the Unify Main component.
This design was chosen to avoid concurrency issues between threads.</p>
<p>The following sequence diagram shows how the Unify Main loop triggers events based on file descriptors in <code class="docutils literal notranslate"><span class="pre">process1</span></code> and timers in <code class="docutils literal notranslate"><span class="pre">process2</span></code>.</p>
<p><img alt="Unify Main Events" src="../_images/sequence_uic_ipc.png" /></p>
<p>Additional information on this is available in the
<a href="../doxygen_uic/index.html">Unify Library API</a></p>
</section>
</section>


           </div>
          </div>
          <footer>
    <hr/>
    <p>Copyright © 2023 Silicon Laboratories. All rights reserved.</p>
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>