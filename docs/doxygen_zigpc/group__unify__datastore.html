<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Protocol Controller: Unify Datastore</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Protocol Controller
   &#160;<span id="projectnumber">1.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__unify__datastore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Unify Datastore<div class="ingroups"><a class="el" href="group__unify__components.html">Unify Components</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Persistent Unify Datastore.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__datastore__attributes"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__attributes.html">Attributes storage.</a></td></tr>
<tr class="memdesc:group__datastore__attributes"><td class="mdescLeft">&#160;</td><td class="mdescRight">Datastore API for Attributes (from the <a class="el" href="group__attribute__store.html">Attribute Store</a>) <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__datastore__fixt"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__fixt.html">Unify Datastore Fixture</a></td></tr>
<tr class="memdesc:group__datastore__fixt"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persistent Datastore fixture. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf5b54b66e8ded7f7ed747fd984b38a67"><td class="memItemLeft" align="right" valign="top">typedef const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a></td></tr>
<tr class="separator:gaf5b54b66e8ded7f7ed747fd984b38a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae3b9b254eca70856009a3819db29e630"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#gae3b9b254eca70856009a3819db29e630">datastore_init</a> (const char *database_path)</td></tr>
<tr class="memdesc:gae3b9b254eca70856009a3819db29e630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Datastore component.  <a href="group__unify__datastore.html#gae3b9b254eca70856009a3819db29e630">More...</a><br /></td></tr>
<tr class="separator:gae3b9b254eca70856009a3819db29e630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f7cc782297f053b6c719641dfac3193"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga5f7cc782297f053b6c719641dfac3193">datastore_start_transaction</a> ()</td></tr>
<tr class="memdesc:ga5f7cc782297f053b6c719641dfac3193"><td class="mdescLeft">&#160;</td><td class="mdescRight">start a datastore transaction  <a href="group__unify__datastore.html#ga5f7cc782297f053b6c719641dfac3193">More...</a><br /></td></tr>
<tr class="separator:ga5f7cc782297f053b6c719641dfac3193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5dd750e9537138ce1832842e4fd3a4c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga5dd750e9537138ce1832842e4fd3a4c0">datastore_commit_transaction</a> ()</td></tr>
<tr class="memdesc:ga5dd750e9537138ce1832842e4fd3a4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">commit an open transaction  <a href="group__unify__datastore.html#ga5dd750e9537138ce1832842e4fd3a4c0">More...</a><br /></td></tr>
<tr class="separator:ga5dd750e9537138ce1832842e4fd3a4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94ec0317094e42566008726743f2ebfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown</a> ()</td></tr>
<tr class="memdesc:ga94ec0317094e42566008726743f2ebfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tear down the Datastore component.  <a href="group__unify__datastore.html#ga94ec0317094e42566008726743f2ebfe">More...</a><br /></td></tr>
<tr class="separator:ga94ec0317094e42566008726743f2ebfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga186f7732210b648fbb2f01d582a300bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga186f7732210b648fbb2f01d582a300bc">datastore_store_int</a> (<a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, int64_t value)</td></tr>
<tr class="memdesc:ga186f7732210b648fbb2f01d582a300bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store integer in the persistent datastore.  <a href="group__unify__datastore.html#ga186f7732210b648fbb2f01d582a300bc">More...</a><br /></td></tr>
<tr class="separator:ga186f7732210b648fbb2f01d582a300bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d4cfb0e60a2bbe38b06cd0a18c44e32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga3d4cfb0e60a2bbe38b06cd0a18c44e32">datastore_fetch_int</a> (<a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, int64_t *value)</td></tr>
<tr class="memdesc:ga3d4cfb0e60a2bbe38b06cd0a18c44e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch integer from the persistent datastore.  <a href="group__unify__datastore.html#ga3d4cfb0e60a2bbe38b06cd0a18c44e32">More...</a><br /></td></tr>
<tr class="separator:ga3d4cfb0e60a2bbe38b06cd0a18c44e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f8c7d6d90714c59bbe2e96612fc3456"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga0f8c7d6d90714c59bbe2e96612fc3456">datastore_store_arr</a> (<a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, const uint8_t *value, unsigned int size)</td></tr>
<tr class="memdesc:ga0f8c7d6d90714c59bbe2e96612fc3456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store array in the persistent datastore.  <a href="group__unify__datastore.html#ga0f8c7d6d90714c59bbe2e96612fc3456">More...</a><br /></td></tr>
<tr class="separator:ga0f8c7d6d90714c59bbe2e96612fc3456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c7c1b82e7633e21afdaf7c3528a55ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga9c7c1b82e7633e21afdaf7c3528a55ce">datastore_fetch_arr</a> (<a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, uint8_t *value, unsigned int *size)</td></tr>
<tr class="memdesc:ga9c7c1b82e7633e21afdaf7c3528a55ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch array from the persistent datastore.  <a href="group__unify__datastore.html#ga9c7c1b82e7633e21afdaf7c3528a55ce">More...</a><br /></td></tr>
<tr class="separator:ga9c7c1b82e7633e21afdaf7c3528a55ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb2f9b226013622e4be8f33e5881d7a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#gacb2f9b226013622e4be8f33e5881d7a7">datastore_contains_arr</a> (<a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key)</td></tr>
<tr class="memdesc:gacb2f9b226013622e4be8f33e5881d7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the datastore contains an array value for given key.  <a href="group__unify__datastore.html#gacb2f9b226013622e4be8f33e5881d7a7">More...</a><br /></td></tr>
<tr class="separator:gacb2f9b226013622e4be8f33e5881d7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01f271e79b6fb61695e882e25ad1a202"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__unify__datastore.html#ga01f271e79b6fb61695e882e25ad1a202">datastore_contains_int</a> (<a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key)</td></tr>
<tr class="memdesc:ga01f271e79b6fb61695e882e25ad1a202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the datastore contains an int value for given key.  <a href="group__unify__datastore.html#ga01f271e79b6fb61695e882e25ad1a202">More...</a><br /></td></tr>
<tr class="separator:ga01f271e79b6fb61695e882e25ad1a202"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Persistent Unify Datastore. </p>
<p>Persistent datastore, that allows for storing key-value pair. The users of this component must handle updating own values if format change between versions. Keys are zero terminated strings </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaf5b54b66e8ded7f7ed747fd984b38a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5b54b66e8ded7f7ed747fd984b38a67">&#9670;&nbsp;</a></span>datastore_key_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const char* <a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5dd750e9537138ce1832842e4fd3a4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5dd750e9537138ce1832842e4fd3a4c0">&#9670;&nbsp;</a></span>datastore_commit_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_commit_transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>commit an open transaction </p>
<ul>
<li><dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK for success SL_STATUS_FAIL if an error occurred </dd></dl>
</li>
</ul>

</div>
</div>
<a id="gacb2f9b226013622e4be8f33e5881d7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb2f9b226013622e4be8f33e5881d7a7">&#9670;&nbsp;</a></span>datastore_contains_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool datastore_contains_arr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the datastore contains an array value for given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to check if is in the datastore </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if key is present in the datatore else false </dd></dl>

</div>
</div>
<a id="ga01f271e79b6fb61695e882e25ad1a202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01f271e79b6fb61695e882e25ad1a202">&#9670;&nbsp;</a></span>datastore_contains_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool datastore_contains_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the datastore contains an int value for given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to check if is in the datastore </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if key is present in the datatore else false </dd></dl>

</div>
</div>
<a id="ga9c7c1b82e7633e21afdaf7c3528a55ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c7c1b82e7633e21afdaf7c3528a55ce">&#9670;&nbsp;</a></span>datastore_fetch_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fetch_arr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch array from the persistent datastore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to fetch value under </td></tr>
    <tr><td class="paramname">value</td><td>Destination for the key </td></tr>
    <tr><td class="paramname">size</td><td>In: the size of value, Out: Number of bytes written to value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_NOT_FOUND if key is not found, SL_STATUS_WOULD_OVERFLOW if fetched data is larger than size SL_STATUS_FAIL if other failure, </dd></dl>

</div>
</div>
<a id="ga3d4cfb0e60a2bbe38b06cd0a18c44e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d4cfb0e60a2bbe38b06cd0a18c44e32">&#9670;&nbsp;</a></span>datastore_fetch_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fetch_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch integer from the persistent datastore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to fetch value under </td></tr>
    <tr><td class="paramname">value</td><td>Destination for the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_NOT_FOUND if key is not found, SL_STATUS_FAIL if other failure, </dd></dl>

</div>
</div>
<a id="gae3b9b254eca70856009a3819db29e630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3b9b254eca70856009a3819db29e630">&#9670;&nbsp;</a></span>datastore_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Datastore component. </p>
<p>If the datastore init fails, then there is no reason to call <a class="el" href="group__unify__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown()</a> If it initialized successful, then <a class="el" href="group__unify__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown()</a> shall be called before exiting</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">database_path</td><td>Path to the database file, The directory the path must exist, or init will fail (or ":memory:" to use in memory database)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK for success SL_STATUS_FAIL if an error occurred </dd></dl>

</div>
</div>
<a id="ga5f7cc782297f053b6c719641dfac3193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f7cc782297f053b6c719641dfac3193">&#9670;&nbsp;</a></span>datastore_start_transaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_start_transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start a datastore transaction </p>
<p>With transactions, datastore calls will be cached so that they can be commited in one go. This increases the throughput of data. Only one transaction at the time can be open, otherwise <code>SL_STATUS_ABORT</code> is returned.</p>
<ul>
<li><dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK for success SL_STATUS_IN_PROGRESS if there is an ongoing transaction SL_STATUS_FAIL if an error occurred </dd></dl>
</li>
</ul>

</div>
</div>
<a id="ga0f8c7d6d90714c59bbe2e96612fc3456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f8c7d6d90714c59bbe2e96612fc3456">&#9670;&nbsp;</a></span>datastore_store_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_store_arr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store array in the persistent datastore. </p>
<p>NOTE: If a record already exists for the given key, the stored value will be overwritten by the value provided.</p>
<p>NOTE: If casting larger data types into the array, the component doing this shall be able to handle different endianess, as because of back-up/restore it shall be supported to move the database from Big Endian to Little Endian and vice versa. For uint8_t arrays there are no issues, as they are unaffected by endianess</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to store value under, must be unique </td></tr>
    <tr><td class="paramname">value</td><td>Value to store under key </td></tr>
    <tr><td class="paramname">size</td><td>Size of value array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_FAIL if failure </dd></dl>

</div>
</div>
<a id="ga186f7732210b648fbb2f01d582a300bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga186f7732210b648fbb2f01d582a300bc">&#9670;&nbsp;</a></span>datastore_store_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_store_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__unify__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store integer in the persistent datastore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to store value under, must be unique </td></tr>
    <tr><td class="paramname">value</td><td>Value to store under key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_FAIL if failure </dd></dl>

</div>
</div>
<a id="ga94ec0317094e42566008726743f2ebfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94ec0317094e42566008726743f2ebfe">&#9670;&nbsp;</a></span>datastore_teardown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__unify__sl__status__codes.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_teardown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tear down the Datastore component. </p>
<p>Shall be called before exiting the application to close database file </p><dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK for success, SL_STATUS_ERROR for failure </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Sep 21 2022 18:53:44 for Zigbee Protocol Controller by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
