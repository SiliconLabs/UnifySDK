<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UPTI CAP User’s Guide &mdash; Unify Host SDK</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom_styles.css" type="text/css" />
    <link rel="canonical" href="https://siliconlabs.github.io/UnifySDK/applications/upti_cap/readme_user.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/js/charenc.js"></script>
        <script src="../../_static/js/crypt.js"></script>
        <script src="../../_static/js/sha1.js"></script>
        <script src="../../_static/js/html5-qrcode.min.js"></script>
        <script src="../../_static/js/qr_code_scanner.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="UPTI WRITER User’s Guide" href="../upti_writer/readme_user.html" />
    <link rel="prev" title="Image Provider User’s Guide" href="../image_provider/readme_user.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../doc/introduction.html" class="icon icon-home"> Unify
            <img src="../../_static/silicon-labs-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                ver_1.7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../doc/introduction.html">Unify Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/getting_started_unify.html">Getting Started with Unify</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../doc/UnifySDK.html">Unify Framework</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../doc/unify_framework_services.html">Framework Services</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../upvl/readme_user.html">UPVL User’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gms/readme_user.html">GMS User’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nal/readme_user.html">Name and location service User’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../image_provider/readme_user.html">Image Provider User’s Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">UPTI CAP User’s Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-devgui">Using DevGUI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mqtt-topics-and-messages-format">MQTT Topics and messages format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-upti-cap">Running the UPTI CAP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-systemd-service">Using Systemd Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-command-line">Using Command Line</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../upti_writer/readme_user.html">UPTI WRITER User’s Guide</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../doc/protocol_controllers.html">Protocol Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/unify_iot_services.html">IoT Services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../doc/getting_started_as_developer.html">Getting Started as a Developer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../doc/unify_specifications/index.html">Unify Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/system_requirements.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/standards/known-abbreviations.html">Known Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../doc/introduction.html">Unify</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <script>
    $(".wy-side-scroll").append("<div class='github-button'><iframe src='https://ghbtns.com/github-btn.html?user=SiliconLabs&repo=UnifySDK&type=watch&count=true&size=large&v=2' allowtransparency='true' frameborder='0' scrolling='0' width='170' height='30'></iframe></div>");
</script>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="upti-cap-users-guide">
<h1>UPTI CAP User’s Guide<a class="headerlink" href="#upti-cap-users-guide" title="Permalink to this heading"></a></h1>
<p>UPTI CAP is acronym for Unify Packet Trace Interface Capture</p>
<p><em><strong>NOTE</strong></em> To make UPTI CAP work, Silicon Labs WSTK adapters needs a special PTI enabled firmware and must be connected to a LAN via Ethernet.</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<p>The <em>UPTI_CAP</em> is an application to communicate with Silicon Labs WSTK
adapters, to capture data from adapters debug channel and to publish captured
data as MQTT messages.</p>
<p>The types of data depend from application loaded on wireless SoC and debug adapter
(it can includes energy consumption data, network packet data or any other data
available over the debug channel).</p>
<p>On startup, <em>UPTI_CAP</em> automatically discovers and publish lists of debug adapters
that are connected to the local subnet. You can also configure <em>UPTI_CAP</em> to discover
debug adapters on other subnets by providing the IP adressess list as the command line argument.
Adapters discovery can be started by publishing empty JSON to <code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/Discover</span></code> topic.</p>
<p>At discovery phase, application sends UDP broadcast packets to port 19020 on
all network interfaces (or/and to IP adressess list from command line arguments)
and waits for answers.</p>
<p>Application decodes answers (if any), identifies serial numbers, IP adresses
and publishes list of supported devices to <code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/List</span></code> topic.</p>
<p>At capturing phase, application establishes TCP connection to port 4095 of
adapter (debug channel), identifies debug messages in TCP stream, tries to parse
messages and publishes trace packages to <code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/&lt;SerialNumber&gt;/TracePackage</span></code> topic.</p>
<p>Application allows to capture data from several adapters simultaneously.
Capture/parse/publish task for each adapter runs as thread.</p>
<p>Capturing and publishing data from debug channel is disabled by default.</p>
<p>To start/stop capturing data and publishing trace packages an IoT Service MUST
publish control message to <code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/&lt;SerialNumber&gt;/Toggle</span></code> topic.</p>
<section id="using-devgui">
<h3>Using DevGUI<a class="headerlink" href="#using-devgui" title="Permalink to this heading"></a></h3>
<p>Dev GUI application allows user to initiate adapters discovery,
to start/stop trace packages capturing and visualize trace packages.</p>
<ul>
<li><p>Enable/Disable PTI on the Protocol Controller
To <code class="docutils literal notranslate"><span class="pre">Enable</span></code> or <code class="docutils literal notranslate"><span class="pre">Disable</span></code> the PTI functionality for controllers with NCP that support this, you need to toggle <code class="docutils literal notranslate"><span class="pre">On\Off</span> <span class="pre">PTI</span></code> switch to the desired position on the <code class="docutils literal notranslate"><span class="pre">RFTelemetry</span></code> page
<img alt="ToggleSerialApiPTI" src="../../_images/enable_serial_api_pti.png" />.
Note: An enabled pti produces a large number of messages sent via mqtt, so to prevent mqtt overload it is recommended to keep PTI disabled at all times while not in use.
Note: This functionality is available when running the <span class="xref myst">ZPC</span>.</p></li>
<li><p>Discovery PTI
To discover the network and identify all PTIs, press <code class="docutils literal notranslate"><span class="pre">Discovery</span></code> button on the <code class="docutils literal notranslate"><span class="pre">UPTI</span></code> page. After some time, all PTIs will be available in a table with information about <code class="docutils literal notranslate"><span class="pre">Serial</span> <span class="pre">Number</span></code>, <code class="docutils literal notranslate"><span class="pre">IP</span> <span class="pre">Address</span></code> and connection status
<img alt="Discovery" src="../../_images/discover.png" />.</p></li>
<li><p>Enable/Disable data capture
To <code class="docutils literal notranslate"><span class="pre">Toggle</span></code> capturing data, press <code class="docutils literal notranslate"><span class="pre">Enable</span></code> or <code class="docutils literal notranslate"><span class="pre">Disable</span></code> button. If you <code class="docutils literal notranslate"><span class="pre">Enable</span></code> capturing, you can choose in the pop-up window whether you want to parse additional data or only capture raw data.
<img alt="TogglePTI" src="../../_images/toggle_pti.png" />
<img alt="EnabledPTI" src="../../_images/enabled_pti.png" /></p></li>
<li><p>View Trace Package
To view a list of trace packages press the <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">Trace</span></code> button.
You will see the table of captured trace packages with additional data:</p>
<p><img alt="WithAdditionalData" src="../../_images/with_additional_data.png" /></p>
<p>or without additional data:
<img alt="WithoutAdditionalData" src="../../_images/without_additional_data.png" /></p>
</li>
</ul>
</section>
</section>
<section id="mqtt-topics-and-messages-format">
<h2>MQTT Topics and messages format<a class="headerlink" href="#mqtt-topics-and-messages-format" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/Discover</span></code> - topic to control PTI compatible devices discovery. Message payload - empty JSON.</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/List</span></code> - topic with the list of PTI compatible devices found in the network. Application publish list as retained message.</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI devices list&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI devices list&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;definitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;ListEntry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;PTIAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI device IP address&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;SerialNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI device serial number&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI device status&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/ListEntry&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;PTIAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;192.168.0.112&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;SerialNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1234567&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;PTIAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;192.168.0.122&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;SerialNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7654321&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/&lt;SerialNumber&gt;/Toggle</span></code> - topic to control PTI coompatible device, where <code class="docutils literal notranslate"><span class="pre">SerialNumber</span></code> is the serial number of the WSTK board.</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI Toggle&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI Toggle payload&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;Enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enable/Disable PTI Tracing Service&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;GetOTA&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enable/Disable parsing OTA&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;GetAdditionalData&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enable/Disable parsing AdditionalData&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;Enable&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/1234567/Toggle</span></code></p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;Enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;GetOTA&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;GetAdditionalData&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/&lt;SerialNumber&gt;/TracePackage</span></code> - topic to publish traces from PTI compatible device, where <code class="docutils literal notranslate"><span class="pre">SerialNumber</span></code> is the serial number of the WSTK board.</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI TracePackage&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PTI TracePackage payload&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;TimeStamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A timestamp encoded using RFC 3339&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;RawFrame&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Raw frame data&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;OTA&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Parsed OTA data &quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;AdditionalData&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Parsed Additional Data&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;Rssi&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RSSI (Rx only)&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;Syncword&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SYNCWORD (optionally included, currently only for BLE protocol (Least significant byte first)&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;RadioConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Depending on the protocol contains: Zigbee Modem Config Id, Z-Wave Region Id, BLE PHY Id (included only if non-zero)&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;Channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contains info about &#39;Channel Number&#39;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;Mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contains info about &#39;Mode&#39; Rx/Tx&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;Protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contains info about &#39;Protocol ID&#39;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contains info about &#39;Version&#39;&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;ErrorCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contains Error Code&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nt">&quot;Payload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Raw Additional Data&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="s2">&quot;ErrorCode&quot;</span>
<span class="w">          </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;TimeStamp&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;RawFrame&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ucl/UPTICap/1234567/TracePackage</span></code></p></li>
</ul>
<p>Without Additional Data</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;TimeStamp&quot;</span><span class="p">:</span><span class="s2">&quot;2021-12-10T15:00:37.365671046+02:00&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;RawFrame&quot;</span><span class="p">:[</span>
<span class="w">        </span><span class="mi">91</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">204</span><span class="p">,</span><span class="mi">219</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">51</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">171</span><span class="p">,</span><span class="mi">63</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">104</span><span class="p">,</span><span class="mi">82</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">164</span><span class="p">,</span><span class="mi">167</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span><span class="mi">63</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">93</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With Additional Data</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;TimeStamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2021-12-10T15:07:51.426000339+02:00&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;AdditionalData&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;Mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;RxSuccess&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;RadioConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Rssi&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Channel&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Syncword&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ErrorCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;Payload&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="mi">196</span><span class="p">,</span><span class="mi">230</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">28</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;RawFrame&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="mi">91</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">230</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">93</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>For installing please refer to the general installation method in
<a class="reference internal" href="../../doc/getting_started_unify.html"><span class="doc std std-doc">Getting started</span></a>.</p>
</section>
<section id="running-the-upti-cap">
<h2>Running the UPTI CAP<a class="headerlink" href="#running-the-upti-cap" title="Permalink to this heading"></a></h2>
<section id="using-systemd-service">
<h3>Using Systemd Service<a class="headerlink" href="#using-systemd-service" title="Permalink to this heading"></a></h3>
<p>The best way to run the UPTI CAP is using the Systemd service that is installed with</p>
<p>the Debian installer. For more information, see the
<a class="reference internal" href="../../doc/unify_readme_user.html"><span class="doc std std-doc">Unify Framework User guide</span></a>.</p>
</section>
<section id="using-command-line">
<h3>Using Command Line<a class="headerlink" href="#using-command-line" title="Permalink to this heading"></a></h3>
<p>Alternatively, you can run the UPTICAP by executing <code class="docutils literal notranslate"><span class="pre">uic-upti-cap</span></code>.
You can configure the MQTT server, database path, through command line options.
For details about options, run <code class="docutils literal notranslate"><span class="pre">uic-upti-cap</span> <span class="pre">--help</span></code> command:</p>
<p>Make sure that you do not run the UPTICAP both as a service and using the
command line.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">pi@uic-upti-cap:~ $ </span>service<span class="w"> </span>uic-upti-cap<span class="w"> </span>status
<span class="go">● uic-upti-cap.service - Unified IoT UPTI cap</span>
<span class="go">   Loaded: loaded (/lib/systemd/system/uic-upti-cap.service; enabled; vendor preset: enabled)</span>
<span class="go">   Active: active (running) since Thu 2021-11-04 11:38:32 EET; 17min ago</span>
<span class="go"> Main PID: 1506 (uic-upti-cap)</span>
<span class="go">    Tasks: 3 (limit: 4915)</span>
<span class="go">   CGroup: /system.slice/uic-upti-cap.service</span>
<span class="go">           └─1506 /usr/bin/uic-upti-cap</span>
</pre></div>
</div>
<p>If the service is running, stop it using the following command before
you run the application manually:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">pi@unify:~ $ </span>service<span class="w"> </span>uic-upti-cap<span class="w"> </span>stop
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>
    <hr/>
    <p>Copyright © 2023 Silicon Laboratories. All rights reserved.</p>
</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>